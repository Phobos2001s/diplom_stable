{% extends 'blog/base.html'%}
{% load static %}
{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" integrity="sha256-Uv9BNBucvCPipKQ2NS9wYpJmi8DTOEfTA/nH2aoJALw=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />


<script>
$(document).ready(function(){
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: [{%for data in name %}'{{data}}',{%endfor%}],
            datasets: [{
                label: '# of users',
                data: [{%for data in value%}{{data}},{%endfor%}],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(250, 235, 215, 0.2 )',
                    'rgba(0, 255, 255, 0.2)',
                    'rgba(0, 0, 255, 0.2 )',
                    'rgba(165, 42, 42, 0.2)',
                    'rgba(127, 255, 0, 0.2)',
                    'rgba(138, 43, 226, 0.2)',
                    'rgba(210, 105, 30, 0.2)',
                    'rgba(220, 20, 60, 0.2)',
                    'rgba(0, 255, 255, 0.2)',
                    'rgba(184, 134, 11, 0.2)',
                    'rgba(0, 100, 0, 0.2)',
                    'rgba(139, 0, 0, 0.2)',
                    'rgba(255, 215, 0, 0.2)',
                    'rgba(0, 128, 0, 0.2 )',
                    'rgba(128, 128, 128, 0.2)',
                    'rgba(255, 105, 180, 0.2 )',
                    'rgba(205, 92, 92, 0.2)',
                    'rgba(124, 252, 0, 0.2)',
                    'rgba(255, 0, 0, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(250, 235, 215, 1 )',
                    'rgba(0, 255, 255, 1)',
                    'rgba(0, 0, 255, 1 )',
                    'rgba(165, 42, 42, 1)',
                    'rgba(127, 255, 0, 1)',
                    'rgba(138, 43, 226, 1)',
                    'rgba(210, 105, 30, 1)',
                    'rgba(220, 20, 60, 1)',
                    'rgba(0, 255, 255, 1)',
                    'rgba(184, 134, 11, 1)',
                    'rgba(0, 100, 0, 1)',
                    'rgba(139, 0, 0, 1)',
                    'rgba(255, 215, 0, 1)',
                    'rgba(0, 128, 0, 1 )',
                    'rgba(128, 128, 128, 1)',
                    'rgba(255, 105, 180, 1 )',
                    'rgba(205, 92, 92, 1)',
                    'rgba(124, 252, 0, 1)',
                    'rgba(255, 0, 0, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            },
            legend: {
                labels: {
                    fontColor: 'black',
                    fontSize: 16
                }
            },
            tooltips: {
                bodyFontSize: 16,
                caretSize: 10
            }
        }
    });
});
</script>


    <form action="{% url 'diagram' %}" method="get">
        <div class="input-group">
            <select class="form-select" name="q" style="text-align: center;" >
                {% if q == 1 %}
                    <option value="1" selected>Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 2 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2" selected>Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 3 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3" selected>Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 4 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4" selected>Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 5 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5" selected>Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 6 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6" selected>Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 7 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7" selected>Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 8 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8" selected>Расходы организации</option>
                    <option value="9">Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% elif q == 9 %}
                    <option value="1">Соотношение организаций, погдавших данные по форме N 85-К</option>
                    <option value="2">Тип поселения, в которм расположены организации</option>
                    <option value="3">Режим работы групп и численность воспитанников в них </option>
                    <option value="4">Распределение персонала по уровню образования и полу</option>
                    <option value="5">Сведения о помещениях организации</option>
                    <option value="6">Оснащение дошкольной организации</option>
                    <option value="7">Техническое оснащение для детей-инвалидов и детей с ОВЗ</option>
                    <option value="8">Расходы организации</option>
                    <option value="9" selected>Источники финансирования внутренних затрат дошкольной образовательной организацией на внедрение и использование цифровых технологий</option>
                {% endif %}
            </select>
        </div>
        <div class="input-group-append d-grid gap-2">
            <button type="submit" class="btn btn-primary ">Применить фильтры</button>
        </div>
  </form>
<br><br>

    <canvas id="myChart" width="400" height="200"></canvas>



{%endblock content%}
